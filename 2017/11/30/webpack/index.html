<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="个人学习小结"><title>浅谈前端项目模块化工具webpack | zlstory</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-111606593-1','auto');ga('send','pageview');</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">浅谈前端项目模块化工具webpack</h1><a id="logo" href="/.">zlstory</a><p class="description">若独学而无友，则孤陋且寡闻</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">浅谈前端项目模块化工具webpack</h1><div class="post-meta">Nov 30, 2017</div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack简介"><span class="toc-number">1.</span> <span class="toc-text">webpack简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#为什么要使用webpack"><span class="toc-number">2.</span> <span class="toc-text">为什么要使用webpack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#commonJS-与-AMD-规范"><span class="toc-number">3.</span> <span class="toc-text">commonJS 与 AMD 规范</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#commonJS模块规范"><span class="toc-number">3.1.</span> <span class="toc-text">commonJS模块规范</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AMD规范"><span class="toc-number">3.2.</span> <span class="toc-text">AMD规范</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack安装"><span class="toc-number">4.</span> <span class="toc-text">webpack安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用webpack打包js"><span class="toc-number">5.</span> <span class="toc-text">使用webpack打包js</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#单个入口文件"><span class="toc-number">5.1.</span> <span class="toc-text">单个入口文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#多个入口文件"><span class="toc-number">5.2.</span> <span class="toc-text">多个入口文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用不同的loader处理不同的静态文件"><span class="toc-number">6.</span> <span class="toc-text">使用不同的loader处理不同的静态文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用webpack加载第三方库"><span class="toc-number">7.</span> <span class="toc-text">使用webpack加载第三方库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack与babel、vue"><span class="toc-number">8.</span> <span class="toc-text">webpack与babel、vue</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#webpack命令"><span class="toc-number">8.1.</span> <span class="toc-text">webpack命令</span></a></li></ol></li></ol></div></div><div class="post-content"><h3 id="webpack简介"><a href="#webpack简介" class="headerlink" title="webpack简介"></a>webpack简介</h3><p>webpack是一个模块打包器，他可以将前端中的静态文件根据一定的规则打包成一个或多个文件。简单的来说，webpack就是一个代码打包工具。</p>
<h3 id="为什么要使用webpack"><a href="#为什么要使用webpack" class="headerlink" title="为什么要使用webpack"></a>为什么要使用webpack</h3><p>随着前端开发的越来越复杂，不可能将所有前端代码写在一个文件中，但是若写在多个文件中会在全局作用域下造成冲突、http请求次数增多且后期维护困难。为了方便管理及组织，我们需要给代码划分不同的模块及文件中，进行模块化开发。</p>
<p>另一方面，前端优化有两大方面：1.减少http请求 2.减小静态文件体积。</p>
<p>webpack可以同时支持CommonJs与AMD规范,不仅是针对于JavaScript，其他文件如css、图片、字体等一切前端文件皆可兼容，且都可以分模块打包(实现了按需加载)，且可以将es6的代码编译成浏览器识别的es5。</p>
<h3 id="commonJS-与-AMD-规范"><a href="#commonJS-与-AMD-规范" class="headerlink" title="commonJS 与 AMD 规范"></a>commonJS 与 AMD 规范</h3><h4 id="commonJS模块规范"><a href="#commonJS模块规范" class="headerlink" title="commonJS模块规范"></a>commonJS模块规范</h4><p>每一个文件都是一个模块，有着自己的作用域，在文件里定义的变量函数等都是私有的，对其他文件不可见。模块加载的顺序与其在代码中出现的顺序一致，即：不可异步加载。</p>
<p>模块之间必须通过module.exports进行自身文件的暴露，再其他文件中通过require()将暴露的模块引入到当前作用域中。</p>
<h4 id="AMD规范"><a href="#AMD规范" class="headerlink" title="AMD规范"></a>AMD规范</h4><p>由于commonJS只能同步加载，这样对浏览器来说很不友好，于是AMD定义了一套JavaScript模块以异步加载模块。</p>
<h3 id="webpack安装"><a href="#webpack安装" class="headerlink" title="webpack安装"></a>webpack安装</h3><p>安装webpack需要node支持（前端电脑中应该都有node环境吧！）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install webpack -g</span><br></pre></td></tr></table></figure>
<p>安装完成之后，查看webpack的所有命令。<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">webpack -help</span><br></pre></td></tr></table></figure></p>
<p>cd进入目标文件之后，建立一个package.json文件。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm init</span><br></pre></td></tr></table></figure>
<p><img src="http://p09xm7bj0.bkt.clouddn.com/webpack1.png" alt=" "></p>
<ul>
<li>name：这个包的名字</li>
<li>version：这个包的版本</li>
<li>description： 一句话描述这个包是做什么用的</li>
<li>entry point：入口文件，默认是index.js，你可以写成自己的文件</li>
<li>test command：测试命令</li>
<li>git repository：Git仓库地址，没有直接回车</li>
<li>keyword：作为搜索包的关键词</li>
<li>author：作者</li>
<li>license：开源文件</li>
</ul>
<p>填完这些信息之后，它会问你 Is this OK ？<br>回车之后，目标文件中就有新增一个package.json，内容就是刚刚填的那些信息。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="string">"name"</span>: <span class="string">"zlstory"</span>,</span><br><span class="line"><span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line"><span class="string">"description"</span>: <span class="string">"a webpack demo"</span>,</span><br><span class="line"><span class="string">"main"</span>: <span class="string">"index.js"</span>,</span><br><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="string">"author"</span>: <span class="string">"zlstory"</span>,</span><br><span class="line"><span class="string">"license"</span>: <span class="string">"ISC"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>接下来安装webpack的依赖，生成node_modules文件夹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install webpack --save-dev</span><br></pre></td></tr></table></figure>
<p>若要安装指定版本的webpack版本</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install webpack@3.8.1 --save-dev</span><br></pre></td></tr></table></figure>
<h3 id="使用webpack打包js"><a href="#使用webpack打包js" class="headerlink" title="使用webpack打包js"></a>使用webpack打包js</h3><h4 id="单个入口文件"><a href="#单个入口文件" class="headerlink" title="单个入口文件"></a>单个入口文件</h4><p>在目标文件夹中建立index.html与entry.js文件，如下图所示：</p>
<p><img src="http://p09xm7bj0.bkt.clouddn.com/webpack2.png" alt=" "></p>
<p>在entry.js中</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="string">"webpack works!"</span>);</span><br></pre></td></tr></table></figure>
<p>在index.html中<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>webpack 入门<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>注意我们引入的是bundle.js，而并非是新建的entry.js，若直接在浏览器打开index.html一定是报错的，因为找不到bundle.js，那么webpack就是可以将entry.js打包成一个bundle.js，并生成bundle.js在指定目录中。<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">webpack entry.js bundle.js</span><br></pre></td></tr></table></figure></p>
<p>此时在浏览器中打开index.html会发现<span style="font-size:16px;">webpack works!<span></span></span></p>
<h4 id="多个入口文件"><a href="#多个入口文件" class="headerlink" title="多个入口文件"></a>多个入口文件</h4><p>通过require()可以将其他文件引入进来，如新建head.js文件。<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//require之前需要进行接口的暴露</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="string">"This is head.js"</span>;</span><br></pre></td></tr></table></figure></p>
<p>在entry.js中将head.js引入<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="string">"webpack works!"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">require</span>(<span class="string">"./head.js"</span>));</span><br></pre></td></tr></table></figure></p>
<p>重新使用webpack entry.js bundle.js打包可以，成功后打开index.html，可以看出既有<span style="font-size:16px;">webpack works!<span>，也console出了 This is head.js,证明webpack将entry.js以及head.js都打包到了bundle.js中。</span></span></p>
<p>将之前生成的bundle.js删除，新建一个webpack.config.js文件：<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devtool: <span class="string">"sourcemap"</span>,</span><br><span class="line">    entry: <span class="string">"./js/entry.js"</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">"bundle.js"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>再使用cmd执行 webpack 命令也会生成bundle.js,同时会生成一个.map文件（错误信息文件）。</p>
<h3 id="使用不同的loader处理不同的静态文件"><a href="#使用不同的loader处理不同的静态文件" class="headerlink" title="使用不同的loader处理不同的静态文件"></a>使用不同的loader处理不同的静态文件</h3><p>webpack本身只能处理js文件，若需要模块化打包css、图片以及字体等文件，需要加载对应的loader。<br>loader是一个预处理函数，接受源文件作为参数，返回的是转换的结果。loader为JavaScript生态系统提供了更多的能力，例如压缩、打包、语言翻译等。</p>
<p>如css文件需要加载css-loader或style-loader：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install css-loader --save-dev</span><br><span class="line"></span><br><span class="line">npm install ts-loader --save-dev</span><br></pre></td></tr></table></figure></p>
<p>在webpack.config.js(没有就新建)中指定loader。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>:&#123;</span><br><span class="line">        rules:[</span><br><span class="line">            &#123; <span class="attr">test</span>:<span class="regexp">/\.css$/</span>, <span class="attr">use</span>:<span class="string">"css-loader"</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">test</span>: <span class="regexp">/\.ts$/</span>, <span class="attr">use</span>: <span class="string">'ts-loader'</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>简单实现：</p>
<p>新建css文件，在entry.js中require该css文件，使用webpack entry.js bundle.js命令，发现css文件生效。</p>
<p>当然也可以使用内联方式来指定该文件需要使用什么的loader<br>如在entry.js中:<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">"!style-loader!css-loader!./style.css"</span>) <span class="comment">// 载入 style.css</span></span><br></pre></td></tr></table></figure></p>
<h3 id="使用webpack加载第三方库"><a href="#使用webpack加载第三方库" class="headerlink" title="使用webpack加载第三方库"></a>使用webpack加载第三方库</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install jquery --save-dev</span><br></pre></td></tr></table></figure>
<p>在entry.js中，</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="string">"webpack works!"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">require</span>(<span class="string">"./head.js"</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>)</span><br><span class="line"></span><br><span class="line">$(<span class="string">"h1"</span>).html(<span class="string">"this is jquery"</span>);</span><br></pre></td></tr></table></figure>
<p>在index.html中<br><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>webpack 入门<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>this is h1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"bundle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>在webpack.config.js中<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devtool: <span class="string">"sourcemap"</span>,</span><br><span class="line">    entry: <span class="string">"./entry.js"</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">"bundle.js"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>使用webpack 命令，打开浏览器即可看见页面中：</p>
<p><img src="http://p09xm7bj0.bkt.clouddn.com/webpack3.jpg" alt=" "></p>
<h3 id="webpack与babel、vue"><a href="#webpack与babel、vue" class="headerlink" title="webpack与babel、vue"></a>webpack与babel、vue</h3><p><a href="https://babeljs.cn/" target="_blank" rel="noopener">babel中文网</a></p>
<p><a href="https://cn.vuejs.org/" target="_blank" rel="noopener">vue官网</a></p>
<p>首先安装相关的loader：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"> npm install babel-core babel-loader babel-plugin-transform-runtime babel-preset-es2015 babel-preset-stage-0 babel-runtime --save-dev</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">npm install vue-loader vue-html-loader vue-style-loader --save-dev</span><br></pre></td></tr></table></figure>
<p>在webpack.config.js中：<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devtool: <span class="string">"sourcemap"</span>,</span><br><span class="line">    entry: <span class="string">"./js/entry.js"</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">"bundle.js"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>:&#123;</span><br><span class="line">        loaders:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:<span class="regexp">/\.css$/</span>,</span><br><span class="line">                loader:<span class="string">"style!css"</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test:<span class="regexp">/\.js$/</span>,</span><br><span class="line">                loader:<span class="string">"babel"</span>,</span><br><span class="line">                exclude:<span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                test:<span class="regexp">/\.vue$/</span>,</span><br><span class="line">                loader:<span class="string">"vue"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    babel:&#123;</span><br><span class="line">        presets:[<span class="string">'es2015'</span>,<span class="string">'stage-0'</span>],</span><br><span class="line">        plugins:[<span class="string">'transform-runtime'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">        resolve: &#123;<span class="comment">//在使用npm构建vue环境的时候，需要在打包工具里配置一个别名</span></span><br><span class="line">        alias: &#123;</span><br><span class="line">            <span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.esm.js'</span> <span class="comment">// 'vue/dist/vue.common.js' for webpack 1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="webpack命令"><a href="#webpack命令" class="headerlink" title="webpack命令"></a>webpack命令</h4><p>安装全局的webpack服务器<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install -g webpack-dev-server</span><br></pre></td></tr></table></figure></p>
<p>安装项目依赖的服务器<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install webpack-dev-server --save-dev</span><br></pre></td></tr></table></figure></p>
<p>查看所有打包文件以及在什么文件中调用了哪个文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">webpack  --display-modules  --display-reasons</span><br></pre></td></tr></table></figure>
<p>实时监控<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">webpack -watch</span><br></pre></td></tr></table></figure></p>
<p>热更新：<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">webpack-dev-server --content-base build --inline --hot</span><br></pre></td></tr></table></figure></p>
<p>配置服务器与热更新,在package.json中</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;webpack&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;webpack-dev-server --content-base build --inline --hot&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>区分线上与线下环境</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span>　debug = process.env.MODE_ENV != <span class="string">"production"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    devtool: debug ?  <span class="string">"sourcemap"</span> :<span class="literal">null</span>,</span><br><span class="line">    entry: <span class="string">"./js/entry.js"</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        filename: <span class="string">"bundle.js"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>:&#123;</span><br><span class="line">        loaders:[</span><br><span class="line">            &#123;</span><br><span class="line">                test:<span class="regexp">/\.css$/</span>,</span><br><span class="line">                loader:<span class="string">"style!css"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins:debug?[]:[</span><br><span class="line">        <span class="keyword">new</span> webpack.optiomize.DebugPlugin(),</span><br><span class="line">        <span class="keyword">new</span> webpack.optiomize.OccurenceOrderPlugin()</span><br><span class="line"></span><br><span class="line">    ],</span><br><span class="line">    babel:&#123;</span><br><span class="line">        presets:[<span class="string">'es2015'</span>,<span class="string">'stage-0'</span>],</span><br><span class="line">        plugins:[<span class="string">'transform-runtime'</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        alias: &#123;</span><br><span class="line">            <span class="string">'vue$'</span>: <span class="string">'vue/dist/vue.esm.js'</span> <span class="comment">// 'vue/dist/vue.common.js' for webpack 1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div class="tags"><a href="/tags/webpack/">webpack</a></div><div class="post-nav"><a href="/2017/12/18/seo/" class="pre">互联网常见名词解释</a><a href="/2017/10/26/js-basic/" class="next">JavaScript核心-ECMAScript</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: 'zlstory',
  repo: 'zlstory.github.io',
  oauth: {
    client_id: '2beb49205958bc8a66be',
    client_secret: '1e8e5079085aa3df305c2e00d0ba45a326992962',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/vue-mint-ui/" style="font-size: 15px;">vue mint-ui</a> <a href="/tags/javaScript小知识/" style="font-size: 15px;">javaScript小知识</a> <a href="/tags/JSON/" style="font-size: 15px;">JSON</a> <a href="/tags/canvas/" style="font-size: 15px;">canvas</a> <a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/理论/" style="font-size: 15px;">理论</a> <a href="/tags/environment/" style="font-size: 15px;">environment</a> <a href="/tags/es6/" style="font-size: 15px;">es6</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/面试/" style="font-size: 15px;">面试</a> <a href="/tags/javaScript/" style="font-size: 15px;">javaScript</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/选择器/" style="font-size: 15px;">选择器</a> <a href="/tags/编辑器/" style="font-size: 15px;">编辑器</a> <a href="/tags/vue，vuex/" style="font-size: 15px;">vue，vuex</a> <a href="/tags/vue，websocket/" style="font-size: 15px;">vue，websocket</a> <a href="/tags/Array/" style="font-size: 15px;">Array</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/seo/" style="font-size: 15px;">seo</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/12/17/canvas2/">canvas学习笔记——高级篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/17/git443/">git报错443</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/16/canvas/">canvas学习笔记——基础篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/21/iframeInVue/">在vue中使用iframe</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/03/websocket/">在vue-cli中使用websocket</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/17/eventBus/"> Vue组件中eventBus使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/21/vue-parent-child/">vue中父子组件传值的几种方式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/20/vuex/">vuex的学习总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/26/mint-ui-login/">mintLogin</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/12/vueTheory/">vue的知识点</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://sinsle.com/" title="异　见" target="_blank">异　见</a><ul></ul><a href="https://www.wujiabk.com" title="吴佳博客" target="_blank">吴佳博客</a><ul></ul><a href="http://www.jackeybiao.com/" title="韩彪博客" target="_blank">韩彪博客</a><ul></ul><a href="http://xiangnick.website/" title="XiangNick" target="_blank">XiangNick</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">zlstory.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?68cb98bd2a475f71ad8508d14ad906ba";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>