<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="个人学习小结"><title>es6学习笔记(上) | zlstory</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-111606593-1','auto');ga('send','pageview');</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">es6学习笔记(上)</h1><a id="logo" href="/.">zlstory</a><p class="description">若独学而无友，则孤陋且寡闻</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">es6学习笔记(上)</h1><div class="post-meta">Jul 14, 2017</div><div class="post-content"><p>es8已经出来了，是时候开始学习es6了。</p>
<p>ES6从2010年开始到2015年正式通过，过了15年。</p>
<p>环境要求：node</p>
<p>检验运行环境对ES6的支持情况：<br>    npm install -g es-checker<br>    es-checker</p>
<p>Babel转码器：不需要担心环境是否支持，babel会将es6转换成es5语法。[<a href="http://babeljs.io/]" target="_blank" rel="noopener">http://babeljs.io/]</a><br>在配置.babelrc文件时，在根目录中新建.babelrc文件(使用sublime等编辑器新建)。</p>
<p>注意：babel默认只转换新的JavaScript句法，不转换新增的API，所以需要安装支持新增API的方法babel-polyfill.<br>    npm install –save babel-polyfill<br>    再文件中import或者require此库。</p>
<h3 id="声明变量"><a href="#声明变量" class="headerlink" title="声明变量"></a>声明变量</h3><p>ES5只有var与function可以声明变量，ES6中新增了let、const、class与import四种方法。</p>
<h3 id="let-const-作用域"><a href="#let-const-作用域" class="headerlink" title="let  const 作用域"></a>let  const 作用域</h3><p>es5：全局作用域  函数作用域<br>es6：新增块作用域 let const  只在用{  }包围内有效<br>es6强制使用严格模式：未定义使用 直接报错，而不是undefined，即不存在变量提升。<br>使用let不能重复定义相同变量<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(b);<span class="comment">//2</span></span><br><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//is not defined</span></span><br></pre></td></tr></table></figure></p>
<p> const定义的是常量不是变量，常量是不能修改的( read-only )，声明的时候必须赋值,但是const定义的对象（引用类型）则是可以改变的</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">last</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">const</span> PI = <span class="number">3.1415926</span>;</span><br><span class="line">        <span class="keyword">const</span> k = &#123;</span><br><span class="line">            a:<span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        k.b = <span class="number">3</span>;</span><br><span class="line">        <span class="built_in">console</span>.log(PI,k);<span class="comment">//3.1415926 Object &#123;a: 1, b: 3&#125;</span></span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h3><p>是一种赋值方式，解构简单的说左右一一对应，允许使用默认值。<br>解构赋值的规则：只要等号右边的值不是对象就先将其转换成对象，由于undefined和null无法转换成对象，所以对他们进行解构赋值都会报错。<br>分为：数组解构赋值  对象解构赋值 字符串解构赋值   布尔值解构赋值   函数参数解构赋值   数值解构赋值<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//数组类型结构赋值</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a,b,reset;</span><br><span class="line">    [a,b]=[<span class="number">1</span>,<span class="number">2</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(a,b);</span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">let</span> a,b,reset;</span><br><span class="line">[a,b,...reset]=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a,b,reset);</span><br><span class="line"><span class="comment">//reset 是一个数组[3,4,5,6]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="正则扩展"><a href="#正则扩展" class="headerlink" title="正则扩展"></a>正则扩展</h3><p>新增：构造函数的变化  正则方法的扩展  u修饰符  y修饰符 s修饰符<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;   </span><br><span class="line">    <span class="keyword">let</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'xyz'</span>,<span class="string">'i'</span>);</span><br><span class="line">    <span class="keyword">let</span> regex2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/xyz/i</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(regex.test(<span class="string">'xyz123'</span>),regex2.test(<span class="string">'xyz123'</span>));<span class="comment">//true,true</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> regex3 = <span class="keyword">new</span> Regexp(<span class="regexp">/xyz/ig</span>,<span class="string">"i"</span>);<span class="comment">//第一个参数正则表达式 第二个参数是修饰符，则后面修饰符会覆盖前面正则表达式的修饰符</span></span><br><span class="line">    <span class="built_in">console</span>.log(regex3.flags);<span class="comment">//flags：用来获取正则表达式的修饰符</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> s = <span class="string">"bbb_bb_b"</span>;</span><br><span class="line">    <span class="keyword">let</span> a1 = <span class="regexp">/b+/g</span>;</span><br><span class="line">    <span class="keyword">let</span> a2 = <span class="regexp">/b+/y</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"one"</span>,a1.exec(s),a2.exec(s));</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"two"</span>,a1.exec(s),a2.exec(s));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(a1.sticky,a2.sticky);<span class="comment">//sticky：验证是否开启y修饰符</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'u-1'</span>,/^\uD83D/.test(<span class="string">'\uD83D\uDC2A'</span>));<span class="comment">//u-1 true</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'u-2'</span>,/^\uD83D/u.test(<span class="string">'\uD83D\uDC2A'</span>));<span class="comment">//u-2 false</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="regexp">/\u&#123;61&#125;/</span>.test(<span class="string">'a'</span>));<span class="comment">//false</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="regexp">/\u&#123;61&#125;/u</span>.test(<span class="string">'a'</span>));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="字符串知识"><a href="#字符串知识" class="headerlink" title="字符串知识"></a>字符串知识</h3><p>新增：Unicode表示法  遍历接口  模板字符串  新增方法</p>
<p>库：npm install babel-polyfill –sava-dev</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">    <span class="built_in">console</span>.log(<span class="string">'a'</span>,<span class="string">'\u0061'</span>);<span class="comment">//a a</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'s'</span>,<span class="string">'\u20bb7'</span>);<span class="comment">//s ₻7</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'s2'</span>,<span class="string">`\u&#123;20bb7&#125;`</span>);<span class="comment">//s2 𠮷</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//es5中乱码问题</span></span><br><span class="line">    <span class="keyword">let</span> s = <span class="string">'𠮷'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(s.length);<span class="comment">//2</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'0'</span>,s.charAt(<span class="number">0</span>));<span class="comment">//0 �</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'1'</span>,s.charAt(<span class="number">1</span>));<span class="comment">//1 �</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'at0'</span>,s.charCodeAt(<span class="number">0</span>));<span class="comment">//at0 55362</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'at1'</span>,s.charCodeAt(<span class="number">1</span>));<span class="comment">//at1 57271</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//es6中新增方法codePointAt()方法来获取码值</span></span><br><span class="line">    <span class="keyword">let</span> s1 = <span class="string">'𠮷a'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(s1.length);<span class="comment">//3</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'code0'</span>,s1.codePointAt(<span class="number">0</span>));<span class="comment">//code0 134071</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'code0'</span>,s1.codePointAt(<span class="number">0</span>).toString(<span class="number">16</span>));<span class="comment">//code0 20bb7</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'code1'</span>,s1.codePointAt(<span class="number">1</span>));<span class="comment">//code1 57271</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'code2'</span>,s1.codePointAt(<span class="number">2</span>));<span class="comment">//code2 97</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//能不能处理Unicode字符大于0fffff</span></span><br><span class="line">    <span class="comment">//es5中</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCharCode(<span class="string">'0x20bb7'</span>));<span class="comment">//ஷ</span></span><br><span class="line">    <span class="comment">//es6中</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCodePoint(<span class="string">'0x20bb7'</span>));<span class="comment">//𠮷</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">'\u&#123;20bb7&#125;abc'</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i&lt;str.length;i++)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'es5'</span>,str[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//es5 �   es5 �  es5 a  es5 b   es5 c</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> code <span class="keyword">of</span> str)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'es6'</span>,code);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//es6 𠮷    es6 a   es6 b   es6 c</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="includes-startsWith-endWith"><a href="#includes-startsWith-endWith" class="headerlink" title="includes()  startsWith()  endWith()"></a>includes()  startsWith()  endWith()</h4><p>之前的js只有indexof方法来确定一个字符串是否包含在另一个字符串中，ES6又提供了这三种新的方法，返回的都是布尔值，第一个参数是要搜索的字符串，第二个参数表示起始位置。<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">//判断字符串中是不是包含某些字符</span></span><br><span class="line">    <span class="keyword">let</span> str1 = <span class="string">'string'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'includes'</span>,str1.includes(<span class="string">"r"</span>));<span class="comment">//includes true</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'includes'</span>,str1.includes(<span class="string">"c"</span>));<span class="comment">//includes false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断某些字符串是否以某字符为起始</span></span><br><span class="line">    <span class="built_in">console</span>,log(<span class="string">"start"</span>,str1.startWith(<span class="string">"str"</span>));<span class="comment">// start true</span></span><br><span class="line">    <span class="built_in">console</span>,log(<span class="string">"end"</span>,str1.endWith(<span class="string">"ng"</span>));<span class="comment">// end true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="repeat"><a href="#repeat" class="headerlink" title="repeat()"></a>repeat()</h4><p>复制原字符串n次，参数为小数时会被取整，若为负数或者infinity，则报错；NaN等同于0。<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">"abc"</span>;</span><br><span class="line">    <span class="comment">//字符串复制功能</span></span><br><span class="line">    <span class="built_in">console</span>.log(str.repeat(<span class="number">2</span>));<span class="comment">//abcabc</span></span><br><span class="line">    <span class="comment">//模板字符串</span></span><br><span class="line">    <span class="keyword">let</span> name = <span class="string">"list"</span>;</span><br><span class="line">    <span class="keyword">let</span> info = <span class="string">"hello world"</span>;</span><br><span class="line">    <span class="keyword">let</span> m = <span class="string">`i am <span class="subst">$&#123;name&#125;</span>,<span class="subst">$&#123;info&#125;</span>`</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(m);<span class="comment">//i am list,hello world</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//标签模板:防止xss攻击;处理多语言</span></span><br><span class="line">    <span class="keyword">let</span> user1 = &#123;</span><br><span class="line">        name:<span class="string">"list"</span>,</span><br><span class="line">        info:<span class="string">"hello world"</span></span><br><span class="line">    &#125;;</span><br><span class="line">    abc<span class="string">`i am <span class="subst">$&#123;user1.name&#125;</span>,<span class="subst">$&#123;user1.info&#125;</span>`</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">abc</span>(<span class="params">s,v1,v2</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(s,v1,v2);</span><br><span class="line">        <span class="keyword">return</span> s+v1+v2;<span class="comment">//i am ,,,listhello world</span></span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//raw 对所有的\符号都不转义</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">String</span>.raw<span class="string">`Hi\n<span class="subst">$&#123;<span class="number">1</span>+<span class="number">2</span>&#125;</span>`</span>);<span class="comment">//Hi\n3</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`Hi\n<span class="subst">$&#123;<span class="number">1</span>+<span class="number">2</span>&#125;</span>`</span>);<span class="comment">//Hi  换行 3</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="数值扩展"><a href="#数值扩展" class="headerlink" title="数值扩展"></a>数值扩展</h3><p>新增方法：<br>方法调整：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;   </span><br><span class="line">    <span class="comment">//二进制以0b开头</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">0b111110100</span>);<span class="comment">//500</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//八进制以0o开头</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">0o754</span>);<span class="comment">//492</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#123;   <span class="comment">//isFinite判断是不是数 isNaN</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'15'</span>,<span class="built_in">Number</span>.isFinite(<span class="number">15</span>));<span class="comment">//15 true</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'NaN'</span>,<span class="built_in">Number</span>.isFinite(<span class="literal">NaN</span>));<span class="comment">//NaN false</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'1/0'</span>,<span class="built_in">Number</span>.isFinite(<span class="number">1</span>/<span class="number">0</span>));<span class="comment">//1/0 false</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//判断是不是整数（保证参数是一个数字）</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'25'</span>,<span class="built_in">Number</span>.isInteger(<span class="number">25</span>));<span class="comment">//25 true</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'25.0'</span>,<span class="built_in">Number</span>.isInteger(<span class="number">25.0</span>));<span class="comment">//25.0 true</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'25.1'</span>,<span class="built_in">Number</span>.isInteger(<span class="number">25.1</span>));<span class="comment">//25.1 false</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'crystal'</span>,<span class="built_in">Number</span>.isInteger(<span class="string">"crystal"</span>));<span class="comment">//crystal false</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'crystal'</span>,<span class="built_in">Number</span>.isInteger(crystal));<span class="comment">//报错</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;   <span class="comment">//MAX_SAFE_INTEGER 常量  表示最大上限  </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Number</span>.MAX_SAFE_INTEGER);<span class="comment">//9007199254740991</span></span><br><span class="line">    <span class="comment">//最小下限</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Number</span>.MIN_SAFE_INTEGER);<span class="comment">//-9007199254740991</span></span><br><span class="line">    <span class="comment">//判断一个数是否是安全的（在上下限范围之内）（保证参数是一个数字）</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"10"</span>,<span class="built_in">Number</span>.isSafeInteger(<span class="number">10</span>));<span class="comment">//10 true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//取小数的整数部分</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"4.1"</span>,<span class="built_in">Math</span>.trunc(<span class="number">4.1</span>));<span class="comment">//4</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"4.9"</span>,<span class="built_in">Math</span>.trunc(<span class="number">4.9</span>));<span class="comment">//4</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//判断一个数是正数负数或者是0  返回值：-1 0  1  NaN</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'-5'</span>,<span class="built_in">Math</span>.sign(<span class="number">-5</span>));</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'0'</span>,<span class="built_in">Math</span>.sign(<span class="number">0</span>));</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'5'</span>,<span class="built_in">Math</span>.sign(<span class="number">5</span>));    </span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//立方根</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"-1"</span>,<span class="built_in">Math</span>.cbrt(<span class="number">-1</span>));<span class="comment">//-1</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"8"</span>,<span class="built_in">Math</span>.cbrt(<span class="number">8</span>));<span class="comment">//2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="数组扩展方法"><a href="#数组扩展方法" class="headerlink" title="数组扩展方法"></a>数组扩展方法</h3><h4 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a>Array.from</h4><p>把一个集合转义成数组。也有map的用法，两个参数：第一个是数组，第二个是函数<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">//打印页面中所有p节点的内容</span></span><br><span class="line">    <span class="keyword">let</span> p = docunment.querySelectorAll(<span class="string">'p'</span>);</span><br><span class="line">    <span class="keyword">let</span> pArr = <span class="built_in">Array</span>.from(p);</span><br><span class="line">    pArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(item.textContent);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Array</span>.from([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>],<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> item*<span class="number">2</span>;<span class="comment">//[2, 6, 10, 14]</span></span><br><span class="line">    &#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Array-of"><a href="#Array-of" class="headerlink" title="Array.of"></a>Array.of</h4><p>将一组值转换成数组<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = <span class="built_in">Array</span>.of(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(arr);<span class="comment">// [3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">    <span class="comment">//没有参数情况下 返回空数组</span></span><br><span class="line">    <span class="keyword">let</span> empty = <span class="built_in">Array</span>.of();</span><br><span class="line">    <span class="built_in">console</span>.log(empty);<span class="comment">//[]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="copyWithin"><a href="#copyWithin" class="headerlink" title="copyWithin"></a>copyWithin</h4><p>使用频率不高<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;   <span class="comment">//替换起始位置 读取起始位置 结束位置</span></span><br><span class="line">    <span class="built_in">console</span>.log([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>].copyWithin(<span class="number">0</span>,<span class="number">3</span>,<span class="number">4</span>));<span class="comment">//[4, 2, 3, 4, 5]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="find-findIndex"><a href="#find-findIndex" class="headerlink" title="find\findIndex"></a>find\findIndex</h4><p>find与findIndex只找到第一个符合条件的值与下标，参数可为函数</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>].find(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> item &gt; <span class="number">3</span>;<span class="comment">//只返回4</span></span><br><span class="line">    &#125;));</span><br><span class="line">    <span class="built_in">console</span>.log([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>].findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> item &gt; <span class="number">3</span>;<span class="comment">//返回4的下标 3</span></span><br><span class="line">    &#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h4><p>填充<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'fill-7'</span>,[<span class="string">'a'</span>,<span class="number">1</span>,<span class="literal">undefined</span>].fill(<span class="number">7</span>));<span class="comment">//[7,7,7]</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'fill,pos'</span>,[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>].fill(<span class="number">7</span>,<span class="number">1</span>,<span class="number">3</span>));<span class="comment">//第一个是替换的 第二个是起始位置（从1开始) 第二个是结束位置 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="entries-keys-values"><a href="#entries-keys-values" class="headerlink" title="entries\keys\values"></a>entries\keys\values</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> index <span class="keyword">of</span> [<span class="string">'1'</span>,<span class="string">'c'</span>,<span class="string">'ks'</span>].keys())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"keys"</span>,index);<span class="comment">//key 0  key 1  key 2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//需要兼容库</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> [<span class="string">'1'</span>,<span class="string">'c'</span>,<span class="string">'ks'</span>].values())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"values"</span>,index);<span class="comment">//取到的是值</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//既取值又取索引</span></span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">let</span> [index,value] <span class="keyword">of</span> [<span class="string">'1'</span>,<span class="string">'c'</span>,<span class="string">'ks'</span>].entries())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(index,value);<span class="comment">//0 "1"   1 "c"    2 "ks"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="includes"><a href="#includes" class="headerlink" title="includes"></a>includes</h4><p>判断数组中是否包含某个值<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'number'</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="literal">NaN</span>].includes(<span class="number">1</span>));<span class="comment">//number true</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'number'</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="literal">NaN</span>].includes(<span class="literal">NaN</span>));<span class="comment">//number true  NaN==NaN  es5中则做不到</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="函数扩展"><a href="#函数扩展" class="headerlink" title="函数扩展"></a>函数扩展</h3><h4 id="参数默认值"><a href="#参数默认值" class="headerlink" title="参数默认值"></a>参数默认值</h4><p>ES5中参数默认值使用||符号,es6中默认值参数须是最后一个参数<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">x,y = <span class="string">"world"</span></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"默认值"</span>,x,y);</span><br><span class="line">    &#125;</span><br><span class="line">    test(<span class="number">1</span>);<span class="comment">//默认值 1 world</span></span><br><span class="line">    test(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//默认值 1 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//函数作用域</span></span><br><span class="line">    <span class="keyword">let</span> x = <span class="string">'test'</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params">x,y=x</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'作用域'</span>,x,y);</span><br><span class="line">    &#125;</span><br><span class="line">    test2(<span class="string">'kill'</span>);<span class="comment">//作用域 kill kill</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="rest参数"><a href="#rest参数" class="headerlink" title="rest参数"></a>rest参数</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">test3</span>(<span class="params">...arg</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> v <span class="keyword">of</span> arg)&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'rest'</span>,v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    test3(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>);<span class="comment">//rest 1  rest2....rest7</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h4><p>把数组转成离散的值<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'a'</span>,...[<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>]);<span class="comment">//a,1,2,4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> arrow = <span class="function"><span class="params">v</span> =&gt;</span> v*<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(arrow(<span class="number">3</span>));<span class="comment">//6</span></span><br><span class="line">    <span class="comment">//如果没有参数，则用()代替</span></span><br><span class="line">    <span class="keyword">let</span> arrow2 = <span class="function"><span class="params">()</span> =&gt;</span> <span class="number">8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="尾调用"><a href="#尾调用" class="headerlink" title="尾调用"></a>尾调用</h4><p>提高性能<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">tail</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'tail'</span>,x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> tail(x);</span><br><span class="line">    &#125;</span><br><span class="line">    f(<span class="number">12</span>);<span class="comment">//tail 12</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="对象扩展"><a href="#对象扩展" class="headerlink" title="对象扩展"></a>对象扩展</h3><h4 id="简洁表示法"><a href="#简洁表示法" class="headerlink" title="简洁表示法"></a>简洁表示法</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> o = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> k = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">let</span> es5 = &#123;</span><br><span class="line">        o:o,</span><br><span class="line">        k:k</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> es6 = &#123;</span><br><span class="line">        o,</span><br><span class="line">        k</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(es5,es6);<span class="comment">//Object &#123;o: 1, k: 2&#125; Object &#123;o: 1, k: 2&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果对象中有方法</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> es5_method = &#123;</span><br><span class="line">        hello: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> es6_method = &#123;</span><br><span class="line">        hello()&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"hello"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">console</span>.log(es5_method.hello(),es6_method.hello());<span class="comment">//hello  hello</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="属性表达式"><a href="#属性表达式" class="headerlink" title="属性表达式"></a>属性表达式</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="string">'b'</span>;</span><br><span class="line">    <span class="keyword">let</span> es5_obj = &#123;</span><br><span class="line">        a:<span class="string">'c'</span>,</span><br><span class="line">        b:<span class="string">'c'</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> es6_obj = &#123;</span><br><span class="line">        [a]:<span class="string">'c'</span>   <span class="comment">//[a]是一个表达式，实现变量依赖</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(es5_obj,es6_obj);<span class="comment">//Object &#123;a: "c", b: "c"&#125; Object &#123;b: "c"&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="扩展运算符-1"><a href="#扩展运算符-1" class="headerlink" title="扩展运算符"></a>扩展运算符</h4><p>要扩展库,babel支持性不好，实际无法运用<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> &#123;a,b,...c&#125; = &#123;<span class="attr">a</span>:<span class="string">'test'</span>,<span class="attr">b</span>:<span class="string">'kill'</span>,<span class="attr">c</span>:<span class="string">'ddd'</span>,<span class="attr">d</span>:<span class="string">'ccc'</span>&#125;;</span><br><span class="line">    c = &#123;</span><br><span class="line">        c:<span class="string">'ddd'</span>,</span><br><span class="line">        d:<span class="string">'ccc'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Object新增方法"><a href="#Object新增方法" class="headerlink" title="Object新增方法"></a>Object新增方法</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">//is()判断两个参数是否相等===</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"字符串"</span>,<span class="built_in">Object</span>.is(<span class="string">'abc'</span>,<span class="string">'abc'</span>));<span class="comment">//true</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"数组"</span>,<span class="built_in">Object</span>.is([],[]));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//assign()浅拷贝</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"拷贝"</span>,<span class="built_in">Object</span>.assign(&#123;<span class="attr">a</span>:<span class="string">'a'</span>&#125;,&#123;<span class="attr">b</span>:<span class="string">'b'</span>&#125;));<span class="comment">//拷贝 Object &#123;a: "a", b: "b"&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> test = &#123;</span><br><span class="line">        k:<span class="number">123</span>,</span><br><span class="line">        o:<span class="number">456</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> [key,value] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(test))&#123;</span><br><span class="line">        <span class="built_in">console</span>.log([key,value]);<span class="comment">//["k", 123] ["o", 456]</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Symbol数据类型"><a href="#Symbol数据类型" class="headerlink" title="Symbol数据类型"></a>Symbol数据类型</h3><p>提供独一无二的值  声明的变量 不重复 不相等<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;<span class="keyword">let</span> a1 = <span class="built_in">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> a2 = <span class="built_in">Symbol</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a1 === a2);<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a3 = <span class="built_in">Symbol</span>.for(<span class="string">'a3'</span>);</span><br><span class="line"><span class="keyword">let</span> a4 = <span class="built_in">Symbol</span>.for(<span class="string">'a3'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a3 === a4);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a1 = Symblo.for(<span class="string">"abc"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        [a1]:<span class="string">'123'</span>,</span><br><span class="line">        <span class="string">'abc'</span>:<span class="number">234</span>,</span><br><span class="line">        <span class="string">'c'</span>:<span class="number">345</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">console</span>.log(obj);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 使用symbol定义的属性，通过for in是拿不到属性值的</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">let</span> [key,value] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(obj))&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">"let of"</span>,key,value);</span><br><span class="line">   &#125;<span class="comment">//只拿到非symbol属性</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//使用Object.getOwnPropertySymbols(obj).forEach方法</span></span><br><span class="line">   <span class="built_in">Object</span>.getOwnPropertySymbols(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>)</span>&#123;</span><br><span class="line">       <span class="built_in">console</span>.log(obj[item]);</span><br><span class="line">   &#125;)<span class="comment">//只拿到symbol属性</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//取到所有的属性与属性值</span></span><br><span class="line">   <span class="built_in">Reflect</span>.ownKeys(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"ownkeys"</span>,item,obj[item]);</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h3><p>Set  WeakSet  Map  WeakMap</p>
<p>set集合中的元素是不能重复的<br>set中的key必须是字符串<br>map的key可以是任意数据类型</p>
<h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> list = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">    <span class="comment">//set中增加元素时用add方法</span></span><br><span class="line">    list.add(<span class="number">5</span>);</span><br><span class="line">    list.add(<span class="number">7</span>);</span><br><span class="line">    <span class="comment">//size属性知道长度</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"size"</span>,list.size);<span class="comment">//size 2</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">let</span> list = <span class="keyword">new</span> <span class="built_in">Set</span>(arr);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"size"</span>,list.size);<span class="comment">//size 5</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> size = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">    list.add(<span class="number">1</span>);</span><br><span class="line">    list.add(<span class="number">2</span>);</span><br><span class="line">    list.add(<span class="number">1</span>);<span class="comment">//添加重复的元素时不显示,不报错</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//重要场景：数组去重</span></span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">let</span> list1 = <span class="keyword">new</span> <span class="built_in">Set</span>(arr);</span><br><span class="line">    <span class="built_in">console</span>.log(list1);<span class="comment">//[1,2,3,4,5,6]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//list不转换数据类型，string与number类型是不一样的，不会去重</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="string">'add'</span>,<span class="string">'delete'</span>,<span class="string">'clear'</span>,<span class="string">'has'</span>];</span><br><span class="line">    <span class="keyword">let</span> list = <span class="keyword">new</span> <span class="built_in">Set</span>(arr);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"has"</span>,list.has(<span class="string">'add'</span>));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"delete"</span>,list.delete(<span class="string">'add'</span>),list);<span class="comment">//delete true ['delete','clear','has']</span></span><br><span class="line">    list.clear();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"list"</span>,list);<span class="comment">//[]</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;   <span class="comment">//遍历</span></span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="string">'add'</span>,<span class="string">'delete'</span>,<span class="string">'clear'</span>,<span class="string">'has'</span>];</span><br><span class="line">    <span class="keyword">let</span> list = <span class="keyword">new</span> <span class="built_in">Set</span>(arr);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">of</span> list.keys())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"keys"</span>,key);<span class="comment">//keys add  keys delete  keys clear  keys has</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">of</span> list.values())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"keys"</span>,key);<span class="comment">//keys add  keys delete  keys clear  keys has</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> [key,value] <span class="keyword">of</span> list.entries())&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"entries"</span>,key,value);<span class="comment">//entries add add  entries delete delete  entries clear clear  entries has has</span></span><br><span class="line">    &#125;</span><br><span class="line">    list.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(item);<span class="comment">//add delete clear has</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="weakSet"><a href="#weakSet" class="headerlink" title="weakSet"></a>weakSet</h4><p>必须是对象，弱引用（不检测是否在其他地方运用，与垃圾回收机制无缘）<br>与set区别：无clear()方法，无size属性，不能遍历<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> weakList = <span class="keyword">new</span> <span class="built_in">WeakSet</span>();</span><br><span class="line">    <span class="keyword">let</span> arg = &#123;&#125;;</span><br><span class="line">    weakList.add(arg);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'weakList'</span>,weakList);<span class="comment">//WeakSet &#123;Object &#123;&#125;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">//第一种创建方式：无参数</span></span><br><span class="line">    <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">    <span class="keyword">let</span> arr = [<span class="string">'123'</span>];</span><br><span class="line">    map.set(arr,<span class="number">456</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"map"</span>,map,map.get(arr));<span class="comment">//map &#123;["123"] =&gt; 456&#125; 456</span></span><br><span class="line">&#125;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//第二种创建方式:数组</span></span><br><span class="line">    <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">'a'</span>,<span class="number">123</span>],[<span class="string">'b'</span>,<span class="number">456</span>]]);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"map arg"</span>,map);<span class="comment">//map arg  &#123;"a" =&gt; 123, "b" =&gt; 456&#125;</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"size"</span>,map.size);<span class="comment">//size 2</span></span><br><span class="line">    <span class="comment">//还有get()、delete()、clear()、遍历等方法与set一样</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> weakMap = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line">    <span class="keyword">let</span> o = &#123;&#125;;</span><br><span class="line">    weakMap.set(o,<span class="number">123</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(weakMap.get(o));<span class="comment">//123</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Map与Array的对比"><a href="#Map与Array的对比" class="headerlink" title="Map与Array的对比"></a>Map与Array的对比</h4><p>增删改查<br><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">    <span class="keyword">let</span> array = [];</span><br><span class="line">    <span class="comment">//增</span></span><br><span class="line">    map.set(<span class="string">'t'</span>,<span class="number">1</span>);</span><br><span class="line">    array.push(&#123;<span class="attr">t</span>:<span class="number">1</span>&#125;);</span><br><span class="line">    <span class="built_in">console</span>.info(map,array);<span class="comment">//&#123;"t" =&gt; 1&#125;  [&#123;t:1&#125;]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//查</span></span><br><span class="line">    <span class="keyword">let</span> map_exist = map.has(<span class="string">'t'</span>);</span><br><span class="line">    <span class="keyword">let</span> array_exist = array.find(<span class="function"><span class="params">item</span> =&gt;</span> item.t);</span><br><span class="line">    <span class="built_in">console</span>.info(map_exist,array_exist);<span class="comment">//true  &#123;t:1&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//改</span></span><br><span class="line">    map.set(<span class="string">'t'</span>,<span class="number">2</span>);</span><br><span class="line">    array.forEach(<span class="function"><span class="params">item</span> =&gt;</span> item.t?item.t = <span class="number">2</span>:<span class="string">''</span>);</span><br><span class="line">    <span class="built_in">console</span>.info(map,array);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删</span></span><br><span class="line">    map.delete(<span class="string">'t'</span>);</span><br><span class="line">    <span class="keyword">let</span> index = array.findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item.t);</span><br><span class="line">    array.splice(index,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.info(map,array);<span class="comment">//&#123;&#125; []</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Set与Array的对比"><a href="#Set与Array的对比" class="headerlink" title="Set与Array的对比"></a>Set与Array的对比</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">    <span class="keyword">let</span> array = [];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//增</span></span><br><span class="line">    set.add(&#123;<span class="attr">t</span>:<span class="number">1</span>&#125;);</span><br><span class="line">    array.push(&#123;<span class="attr">t</span>:<span class="number">1</span>&#125;);</span><br><span class="line">    <span class="built_in">console</span>.info(set,array);<span class="comment">//&#123;t =&gt; 1&#125;  [&#123;t:1&#125;]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//查</span></span><br><span class="line">    <span class="keyword">let</span> set_exist = set.has(&#123;<span class="attr">t</span>:<span class="number">1</span>&#125;);<span class="comment">//需要被保存过才会true</span></span><br><span class="line">    <span class="keyword">let</span> array_exist = array.find(<span class="function"><span class="params">item</span> =&gt;</span> item.t);</span><br><span class="line">    <span class="built_in">console</span>.info(set_exist,array_exist);<span class="comment">//false  &#123;t:1&#125;</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//改</span></span><br><span class="line">    set.forEach(<span class="function"><span class="params">item</span> =&gt;</span> item.t?item.t = <span class="number">2</span>:<span class="string">''</span>);</span><br><span class="line">    array.forEach(<span class="function"><span class="params">item</span> =&gt;</span> item.t?item.t = <span class="number">2</span>:<span class="string">''</span>);</span><br><span class="line">    <span class="built_in">console</span>.info(set,array);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删</span></span><br><span class="line">    set.forEach(<span class="function"><span class="params">item</span> =&gt;</span> item.t?set.delete(item):<span class="string">''</span>);</span><br><span class="line">    <span class="keyword">let</span> index = array.findIndex(<span class="function"><span class="params">item</span> =&gt;</span> item.t);</span><br><span class="line">    array.splice(index,<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.info(set,array);<span class="comment">//&#123;&#125; []</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="map、set与Object的对比"><a href="#map、set与Object的对比" class="headerlink" title="map、set与Object的对比"></a>map、set与Object的对比</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> item = &#123;<span class="attr">t</span>:<span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">    <span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//增</span></span><br><span class="line">    map.set(<span class="string">'t'</span>,<span class="number">1</span>);</span><br><span class="line">    set.add(item);</span><br><span class="line">    obj[<span class="string">'t'</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(obj,map,set);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//查</span></span><br><span class="line">    <span class="built_in">console</span>.info(&#123;</span><br><span class="line">        map_exist:map.has(<span class="string">'t'</span>),</span><br><span class="line">        set_exist:set.has(item),</span><br><span class="line">        obj_exist:<span class="string">'t'</span> <span class="keyword">in</span> obj</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//改</span></span><br><span class="line">    map.set(<span class="string">'t'</span>,<span class="number">2</span>);</span><br><span class="line">    item.t = <span class="number">2</span>;</span><br><span class="line">    obj[<span class="string">'t'</span>] =<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(obj,map,set);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//删</span></span><br><span class="line">    map.delete(<span class="string">'t'</span>);</span><br><span class="line">    set.delete(item);</span><br><span class="line">    <span class="keyword">delete</span> obj[<span class="string">"t"</span>];</span><br><span class="line">    <span class="built_in">console</span>.log(obj,map,set);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/javaScript/">javaScript</a><a href="/tags/es6/">es6</a></div><div class="post-nav"><a href="/2017/07/25/responsive/" class="pre">响应式开发</a><a href="/2017/07/14/es6_2/" class="next">es6学习笔记(下)</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: 'zlstory',
  repo: 'zlstory.github.io',
  oauth: {
    client_id: '2beb49205958bc8a66be',
    client_secret: '1e8e5079085aa3df305c2e00d0ba45a326992962',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/面试/" style="font-size: 15px;">面试</a> <a href="/tags/javaScript小知识/" style="font-size: 15px;">javaScript小知识</a> <a href="/tags/JSON/" style="font-size: 15px;">JSON</a> <a href="/tags/canvas/" style="font-size: 15px;">canvas</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/理论/" style="font-size: 15px;">理论</a> <a href="/tags/environment/" style="font-size: 15px;">environment</a> <a href="/tags/es6/" style="font-size: 15px;">es6</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/javaScript/" style="font-size: 15px;">javaScript</a> <a href="/tags/vue-mint-ui/" style="font-size: 15px;">vue mint-ui</a> <a href="/tags/html/" style="font-size: 15px;">html</a> <a href="/tags/选择器/" style="font-size: 15px;">选择器</a> <a href="/tags/编辑器/" style="font-size: 15px;">编辑器</a> <a href="/tags/vue，vuex/" style="font-size: 15px;">vue，vuex</a> <a href="/tags/vue，websocket/" style="font-size: 15px;">vue，websocket</a> <a href="/tags/Array/" style="font-size: 15px;">Array</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/seo/" style="font-size: 15px;">seo</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/12/17/git443/">git报错443</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/17/canvas2/">canvas学习笔记——高级篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/16/canvas/">canvas学习笔记——基础篇</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/21/iframeInVue/">在vue中使用iframe</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/03/websocket/">在vue-cli中使用websocket</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/17/eventBus/"> Vue组件中eventBus使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/21/vue-parent-child/">vue中父子组件传值的几种方式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/05/20/vuex/">vuex的学习总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/26/mint-ui-login/">mintLogin</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/12/vueTheory/">vue的知识点</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://sinsle.com/" title="异　见" target="_blank">异　见</a><ul></ul><a href="https://www.wujiabk.com" title="吴佳博客" target="_blank">吴佳博客</a><ul></ul><a href="http://www.jackeybiao.com/" title="韩彪博客" target="_blank">韩彪博客</a><ul></ul><a href="http://xiangnick.website/" title="XiangNick" target="_blank">XiangNick</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">zlstory.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?68cb98bd2a475f71ad8508d14ad906ba";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>